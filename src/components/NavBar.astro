---
const navItems = [
  { href: "/", text: "Inicio" },
  { href: "/eventos-infantiles", text: "Eventos Infantiles" },
  { href: "/galeria-eventos-infantiles", text: "Galería Eventos Infantiles" },
 
  // { href: "/eventos", text: "Nuestros Eventos" },
  { href: "/contacto", text: "Contacto" },
];
---

<nav class="absolute top-0 w-full mx-auto bg-transparent z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    
    <!-- Navegación Desktop -->
    <div class="hidden lg:flex justify-center items-center py-4">
      <ul class="flex space-x-8 text-lg font-light">
        {navItems.map((item) => (
          <li>
            <a
              href={item.href}
              class="px-4 py-2 rounded-full font-light transition-all duration-200 hover:bg-gray-100 hover:scale-105 text-gray-700 hover:text-gray-900"
            >
              {item.text}
            </a>
          </li>
        ))}
      </ul>
    </div>

    <!-- Header Móvil -->
    <div class="lg:hidden flex justify-between items-center py-4">
      <!-- Logo o título (opcional) -->
      <div class="text-xl flex justify-start font-semibold text-gray-800">
        <img src="/logo-sf.png"
        alt="Logo Pequeños Momentos"
      class="w-[120px] h-[44px] object-contain drop-shadow-lg">
      </div>
      
      <!-- Botón Hamburguesa -->
      <button
        id="menuToggle"
        class="p-2 rounded-md hover:bg-gray-100 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-200"
        aria-label="Toggle menu"
      >
        <svg
          id="hamburgerIcon"
          class="w-6 h-6 transition-transform duration-200"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"
          />
        </svg>
        <svg
          id="closeIcon"
          class="w-6 h-6 hidden transition-transform duration-200"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"
          />
        </svg>
      </button>
    </div>
  </div>

  <!-- Overlay para móvil -->
  <div
    id="mobileOverlay"
    class="fixed inset-0  bg-opacity-25 z-40 lg:hidden hidden transition-opacity duration-300"
  ></div>

  <!-- Menú Móvil -->
  <div
    id="mobileMenu"
    class="fixed top-0 right-0 h-full w-80 max-w-sm bg-white shadow-2xl transform translate-x-full transition-transform duration-300 ease-in-out z-50 lg:hidden"
  >
    <!-- Header del menú móvil -->
    <div class="flex justify-between items-center p-6 border-b border-gray-200">
      <h2 class="text-lg font-semibold text-gray-800">Menú</h2>
      <button
        id="closeMobileMenu"
        class="p-2 rounded-md hover:bg-gray-100 transition-colors duration-200"
        aria-label="Cerrar menú"
      >
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"
          />
        </svg>
      </button>
    </div>

    <!-- Enlaces del menú móvil -->
    <div class="py-6">
      <ul class="space-y-2 px-6">
        {navItems.map((item) => (
          <li>
            <a
              href={item.href}
              class="mobile-nav-link block px-4 py-3 text-gray-700 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-colors duration-200 font-medium"
            >
              {item.text}
            </a>
          </li>
        ))}
      </ul>
    </div>
  </div>
</nav>

<script>
  // Elementos del DOM
  const menuToggle = document.getElementById("menuToggle");
  const mobileMenu = document.getElementById("mobileMenu");
  const mobileOverlay = document.getElementById("mobileOverlay");
  const closeMobileMenu = document.getElementById("closeMobileMenu");
  const hamburgerIcon = document.getElementById("hamburgerIcon");
  const closeIcon = document.getElementById("closeIcon");
  const mobileNavLinks = document.querySelectorAll(".mobile-nav-link");

  // Función para abrir el menú
  function openMenu() {
    mobileMenu?.classList.remove("translate-x-full");
    mobileOverlay?.classList.remove("hidden");
    hamburgerIcon?.classList.add("hidden");
    closeIcon?.classList.remove("hidden");
    // Prevenir scroll del body
    document.body.style.overflow = "hidden";
  }

  // Función para cerrar el menú
  function closeMenu() {
    mobileMenu?.classList.add("translate-x-full");
    mobileOverlay?.classList.add("hidden");
    hamburgerIcon?.classList.remove("hidden");
    closeIcon?.classList.add("hidden");
    // Restaurar scroll del body
    document.body.style.overflow = "";
  }

  // Event listeners
  menuToggle?.addEventListener("click", () => {
    if (mobileMenu?.classList.contains("translate-x-full")) {
      openMenu();
    } else {
      closeMenu();
    }
  });

  closeMobileMenu?.addEventListener("click", closeMenu);
  mobileOverlay?.addEventListener("click", closeMenu);

  // Cerrar menú al hacer clic en un enlace
  mobileNavLinks.forEach(link => {
    link.addEventListener("click", closeMenu);
  });

  // Cerrar menú con tecla Escape
  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape" && !mobileMenu?.classList.contains("translate-x-full")) {
      closeMenu();
    }
  });

  // Manejar cambios de tamaño de ventana
  window.addEventListener("resize", () => {
    if (window.innerWidth >= 1024) { // lg breakpoint
      closeMenu();
    }
  });

</script>

<style>
  /* Estilos adicionales para mejorar la experiencia */
  .mobile-nav-link:hover {
    transform: translateX(4px);
  }
  
  .mobile-nav-link {
    transition: all 0.2s ease;
  }
</style>